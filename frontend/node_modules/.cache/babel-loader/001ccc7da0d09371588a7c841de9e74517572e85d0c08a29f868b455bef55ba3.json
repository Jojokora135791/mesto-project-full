{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _checkResult(res) {\n    if (!res.ok) {\n      return Promise.reject(`Error ${res.status}`);\n    } else {\n      return res.json();\n    }\n  }\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  patchUserInfo(author, job) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: author,\n        about: job\n      })\n    }).then(res => this._checkResult(res));\n  }\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(res => this._checkResult(res));\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  likeCard(card) {\n    return fetch(`${this._baseUrl}/cards/${card._cardId}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  dislikeCard(card) {\n    return fetch(`${this._baseUrl}/cards/${card._cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  editAvatar(link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    }).then(res => this._checkResult(res));\n  }\n  changeLikeCardStatus(card, isLiked) {\n    return isLiked ? this.likeCard(card) : this.dislikeCard(card);\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-65\",\n  headers: {\n    authorization: \"64e76916-bb9d-45f2-aa0a-555c04a49e1a\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_checkResult","res","ok","Promise","reject","status","json","getInitialCards","fetch","method","then","getUserInfo","patchUserInfo","author","job","body","JSON","stringify","name","about","addNewCard","data","link","deleteCard","cardId","likeCard","card","_cardId","dislikeCard","editAvatar","avatar","changeLikeCardStatus","isLiked","api","authorization"],"sources":["C:/Users/Олег/Desktop/YA.Projects/mesto-project-react/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkResult(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error ${res.status}`);\r\n    } else {\r\n      return res.json();\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  patchUserInfo(author, job) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: author,\r\n        about: job,\r\n      }),\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  likeCard(card) {\r\n    return fetch(`${this._baseUrl}/cards/${card._cardId}/likes`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  dislikeCard(card) {\r\n    return fetch(`${this._baseUrl}/cards/${card._cardId}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  editAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    }).then((res) => this._checkResult(res));\r\n  }\r\n\r\n  changeLikeCardStatus(card, isLiked) {\r\n    return isLiked ? this.likeCard(card) : this.dislikeCard(card);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-65\",\r\n  headers: {\r\n    authorization: \"64e76916-bb9d-45f2-aa0a-555c04a49e1a\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAAC;IAAEC,OAAO;IAAEC;EAAQ,CAAC,EAAE;IAChC,IAAI,CAACC,QAAQ,GAAGF,OAAO;IACvB,IAAI,CAACG,QAAQ,GAAGF,OAAO;EACzB;EAEAG,YAAYA,CAACC,GAAG,EAAE;IAChB,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOC,OAAO,CAACC,MAAM,CAAE,SAAQH,GAAG,CAACI,MAAO,EAAC,CAAC;IAC9C,CAAC,MAAM;MACL,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;IACnB;EACF;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,QAAO,EAAE;MACrCW,MAAM,EAAE,KAAK;MACbZ,OAAO,EAAE,IAAI,CAACE;IAChB,CAAC,CAAC,CAACW,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEAU,WAAWA,CAAA,EAAG;IACZ,OAAOH,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,WAAU,EAAE;MACxCW,MAAM,EAAE,KAAK;MACbZ,OAAO,EAAE,IAAI,CAACE;IAChB,CAAC,CAAC,CAACW,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEAW,aAAaA,CAACC,MAAM,EAAEC,GAAG,EAAE;IACzB,OAAON,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,WAAU,EAAE;MACxCW,MAAM,EAAE,OAAO;MACfZ,OAAO,EAAE,IAAI,CAACE,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,IAAI,EAAEL,MAAM;QACZM,KAAK,EAAEL;MACT,CAAC;IACH,CAAC,CAAC,CAACJ,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEAmB,UAAUA,CAACC,IAAI,EAAE;IACf,OAAOb,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,QAAO,EAAE;MACrCW,MAAM,EAAE,MAAM;MACdZ,OAAO,EAAE,IAAI,CAACE,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,IAAI,EAAEG,IAAI,CAACH,IAAI;QACfI,IAAI,EAAED,IAAI,CAACC;MACb,CAAC;IACH,CAAC,CAAC,CAACZ,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEAsB,UAAUA,CAACC,MAAM,EAAE;IACjB,OAAOhB,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,UAAS0B,MAAO,EAAC,EAAE;MAC/Cf,MAAM,EAAE,QAAQ;MAChBZ,OAAO,EAAE,IAAI,CAACE;IAChB,CAAC,CAAC,CAACW,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEAwB,QAAQA,CAACC,IAAI,EAAE;IACb,OAAOlB,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,UAAS4B,IAAI,CAACC,OAAQ,QAAO,EAAE;MAC3DlB,MAAM,EAAE,KAAK;MACbZ,OAAO,EAAE,IAAI,CAACE;IAChB,CAAC,CAAC,CAACW,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEA2B,WAAWA,CAACF,IAAI,EAAE;IAChB,OAAOlB,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,UAAS4B,IAAI,CAACC,OAAQ,QAAO,EAAE;MAC3DlB,MAAM,EAAE,QAAQ;MAChBZ,OAAO,EAAE,IAAI,CAACE;IAChB,CAAC,CAAC,CAACW,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEA4B,UAAUA,CAACP,IAAI,EAAE;IACf,OAAOd,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,kBAAiB,EAAE;MAC/CW,MAAM,EAAE,OAAO;MACfZ,OAAO,EAAE,IAAI,CAACE,QAAQ;MACtBgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBa,MAAM,EAAER;MACV,CAAC;IACH,CAAC,CAAC,CAACZ,IAAI,CAAET,GAAG,IAAK,IAAI,CAACD,YAAY,CAACC,GAAG,CAAC,CAAC;EAC1C;EAEA8B,oBAAoBA,CAACL,IAAI,EAAEM,OAAO,EAAE;IAClC,OAAOA,OAAO,GAAG,IAAI,CAACP,QAAQ,CAACC,IAAI,CAAC,GAAG,IAAI,CAACE,WAAW,CAACF,IAAI,CAAC;EAC/D;AACF;AAEA,MAAMO,GAAG,GAAG,IAAIvC,GAAG,CAAC;EAClBE,OAAO,EAAE,6CAA6C;EACtDC,OAAO,EAAE;IACPqC,aAAa,EAAE,sCAAsC;IACrD,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,eAAeD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}