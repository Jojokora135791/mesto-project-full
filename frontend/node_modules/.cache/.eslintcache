[{"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\index.js":"1","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\reportWebVitals.js":"2","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\App.js":"3","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Main.js":"4","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Footer.js":"5","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Header.js":"6","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\PopupWithForm.js":"7","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\ImagePopup.js":"8","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\Api.js":"9","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\api.js":"10","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Card.js":"11","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\contexts\\CurrentUserContext.js":"12","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\EditProfilePopup.js":"13","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\EditAvatarPopup.js":"14","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\AddCardPopup.js":"15","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\ProtectedRoute.js":"16","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Register.js":"17","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Login.js":"18","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\InfoTooltip.js":"19","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\auth.js":"20"},{"size":639,"mtime":1690307093221,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1689271294301,"results":"23","hashOfConfig":"22"},{"size":8644,"mtime":1691836522226,"results":"24","hashOfConfig":"22"},{"size":1640,"mtime":1691836338659,"results":"25","hashOfConfig":"22"},{"size":206,"mtime":1691836515066,"results":"26","hashOfConfig":"22"},{"size":1646,"mtime":1691831978925,"results":"27","hashOfConfig":"22"},{"size":773,"mtime":1690625198136,"results":"28","hashOfConfig":"22"},{"size":592,"mtime":1690626307515,"results":"29","hashOfConfig":"22"},{"size":2252,"mtime":1689513580112,"results":"30","hashOfConfig":"22"},{"size":2468,"mtime":1691686740103,"results":"31","hashOfConfig":"22"},{"size":1398,"mtime":1690556679308,"results":"32","hashOfConfig":"22"},{"size":117,"mtime":1690556678304,"results":"33","hashOfConfig":"22"},{"size":2587,"mtime":1691834746221,"results":"34","hashOfConfig":"22"},{"size":1272,"mtime":1691833936159,"results":"35","hashOfConfig":"22"},{"size":2102,"mtime":1691834744938,"results":"36","hashOfConfig":"22"},{"size":261,"mtime":1691520371137,"results":"37","hashOfConfig":"22"},{"size":1536,"mtime":1691831976552,"results":"38","hashOfConfig":"22"},{"size":1322,"mtime":1691831980669,"results":"39","hashOfConfig":"22"},{"size":596,"mtime":1691692263304,"results":"40","hashOfConfig":"22"},{"size":1042,"mtime":1691686312478,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},"45efi",{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101"},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\index.js",[],[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\reportWebVitals.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\App.js",["105","106"],[],"import React, { useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport * as auth from \"../utils/auth\";\n\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddCardPopup from \"./AddCardPopup\";\nimport { ProtectedRoute } from \"./ProtectedRoute\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoToolTip from \"./InfoTooltip\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isInfoToolTip, setIsInfoToolTip] = React.useState(false);\n\n  const [currentUser, SetCurrentUser] = React.useState({});\n  const [emailProfile, SetEmailProfile] = React.useState(\"\");\n\n  const [cards, setCards] = React.useState([]);\n\n  const [isLoggedIn, setLoggedIn] = React.useState(null);\n\n  const [isRegiserSuccessed, setIsRegiserSuccessed] = React.useState(false);\n  const [isTitleInfo, setIsTitleInfo] = React.useState(\"\");\n\n  const [isLoading, setIsLoading] = React.useState(\"\");\n\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then((res) => {\n      const [userData, cardsData] = res;\n        SetCurrentUser(userData);\n        setCards(cardsData);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n    checkToken();\n  },[]);\n\n  const checkToken = () => {\n    const jwt = localStorage.getItem(\"jwt\");\n    auth\n      .getContent(jwt)\n      .then((res) => {\n        if (!res) {\n          return;\n        }\n        SetEmailProfile(res.data.email);\n        navigate(\"/\");\n        setLoggedIn(true);\n      })\n      .catch((e) => setLoggedIn(false));\n  };\n\n  // Функции-вызовы API\n  function handleRegister(password, email) {\n    setIsLoading(true);\n    auth\n      .register(password, email)\n      .then((data) => {\n        setIsRegiserSuccessed(true);\n        setIsTitleInfo(\"Вы успешно зарегистрировались!\");\n        OpenInfoToolTip();\n        navigate(\"/sign-in\");\n      })\n      .catch((err) => {\n        setIsRegiserSuccessed(false);\n        setIsTitleInfo(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        OpenInfoToolTip();\n      })\n      .finally(() => setIsLoading(false));\n  }\n  function handleLogin(password, email) {\n    setIsLoading(true);\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        localStorage.setItem(\"jwt\", data.token);\n        SetEmailProfile(email);\n        setLoggedIn(true);\n        setIsRegiserSuccessed(true);\n        setIsTitleInfo(\"Вы успешно авторизировались!\");\n        OpenInfoToolTip();\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        setIsRegiserSuccessed(false);\n        setIsTitleInfo(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        OpenInfoToolTip();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function signOut() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    navigate(\"/\");\n  }\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n\n    api.deleteCard(card._id, isOwn).then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    });\n  }\n\n  function OpenInfoToolTip() {\n    setIsInfoToolTip(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n    });\n  }\n\n  function handleUpdateUser(name, about) {\n    setIsLoading(true);\n    api\n      .patchUserInfo(name, about)\n      .then((data) => {\n        SetCurrentUser(data);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api\n      .editAvatar(avatar)\n      .then((data) => {\n        SetCurrentUser(data);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddCard(name, link) {\n    setIsLoading(true);\n    api\n      .addNewCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsInfoToolTip(false);\n    setSelectedCard({});\n  }\n\n  // Это гениально, брат)\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard.link\n\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if(evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if(isOpen) {\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Routes>\n          <Route\n            path=\"/sign-up\"\n            element={\n              <>\n                <Header />\n                <Register isRegister={handleRegister} buttonName={isLoading} />\n              </>\n            }\n          />\n          <Route\n            path=\"/sign-in\"\n            element={\n              <>\n                <Header />\n                <Login isLogin={handleLogin} buttonName={isLoading} />\n              </>\n            }\n          />\n\n          <Route\n            path=\"/\"\n            element={\n              <>\n                <Header onOut={signOut} email={emailProfile} />\n                <ProtectedRoute\n                  element={Main}\n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddPlaceClick}\n                  onEditAvatar={handleEditAvatarClick}\n                  onCardClick={handleCardClick}\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  onCardDelete={handleCardDelete}\n                  isLoggedIn={isLoggedIn}\n                />\n                <ProtectedRoute element={Footer} isLoggedIn={isLoggedIn} />\n              </>\n            }\n          />\n        </Routes>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          buttonName={isLoading}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          buttonName={isLoading}\n        />\n\n        <AddCardPopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddCard}\n          buttonName={isLoading}\n        />\n\n        <PopupWithForm\n          name=\"delete-card\"\n          title=\"Вы уверен?\"\n          buttonName=\"Да\"\n          isClose={closeAllPopups}\n        ></PopupWithForm>\n\n        <ImagePopup card={selectedCard} isClose={closeAllPopups}></ImagePopup>\n        <InfoToolTip\n          name=\"auth\"\n          auth={isRegiserSuccessed}\n          text={isTitleInfo}\n          isClose={closeAllPopups}\n          isOpen={isInfoToolTip}\n        ></InfoToolTip>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Main.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Footer.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Header.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\PopupWithForm.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\ImagePopup.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\Api.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\api.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Card.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\contexts\\CurrentUserContext.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\EditProfilePopup.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\EditAvatarPopup.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\AddCardPopup.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\ProtectedRoute.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Register.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\Login.js",[],[],"C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\components\\InfoTooltip.js",["107"],[],"import React from \"react\";\r\n\r\nfunction InfoToolTip(props) {\r\n  const divider = '\\u{000A}';\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''} `}>\r\n      <div className=\"popup__container\">\r\n        <div className=\"popup__box\">\r\n        <div className={`${props.auth ? 'popup__image-successed' : 'popup__image-failed'}`}></div>\r\n        <p className=\"popup__text\">{props.text}</p>\r\n        </div>\r\n        <button className=\"popup__button-close\" onClick={props.isClose}> </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;","C:\\Users\\Олег\\Desktop\\YA.Projects\\mesto-project-react\\src\\utils\\auth.js",[],[],{"ruleId":"108","severity":1,"message":"109","line":1,"column":17,"nodeType":"110","messageId":"111","endLine":1,"endColumn":26},{"ruleId":"112","severity":1,"message":"113","line":55,"column":5,"nodeType":"114","endLine":55,"endColumn":7,"suggestions":"115"},{"ruleId":"108","severity":1,"message":"116","line":4,"column":9,"nodeType":"110","messageId":"111","endLine":4,"endColumn":16},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'checkToken'. Either include it or remove the dependency array.","ArrayExpression",["117"],"'divider' is assigned a value but never used.",{"desc":"118","fix":"119"},"Update the dependencies array to be: [checkToken]",{"range":"120","text":"121"},[1873,1875],"[checkToken]"]